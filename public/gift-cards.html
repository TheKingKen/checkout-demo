<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gift Cards - Shop</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
</head>
<body class="page-with-gradient">
<div class="catalog-container">
    <!-- Header Section with Logo and Action Buttons -->
    <div class="catalog-header">
        <img src="https://s3-us-west-2.amazonaws.com/cbi-image-service-prd/original/d62079fa-f245-4611-83c1-2439fe7fa258.png?w=3840" alt="Shop Logo" class="catalog-logo">
        <div class="catalog-actions-top">
            <button id="login-btn" class="action-btn login-btn">LOGIN</button>
            <button id="cart-btn" class="action-btn cart-btn">CART</button>
        </div>
    </div>

    <!-- Breadcrumb Navigation -->
    <div class="breadcrumb">
        <a href="/all-products.html" class="breadcrumb-link">All Products</a>
        <span class="breadcrumb-separator">></span>
        <span class="breadcrumb-current">Gift Cards</span>
    </div>

    <!-- Category Header -->
    <div class="category-header">
        <h2>Gift Cards</h2>
        <p>Perfect digital gift for any occasion. Instantly delivered via email with no shipping fees. Choose your design and amount, then let them pick what they love. Never expires and can be used online anytime.</p>
    </div>

    <!-- Preview Section (mobile-first, shown on top) -->
    <div class="gift-card-preview-section mobile-preview">
        <h3>Preview</h3>
        <div id="gift-card-preview-mobile" class="gift-card-preview">
            <div class="preview-card" style="background-color: #e74c3c;">
                <div class="preview-content">
                    <div class="preview-logo">
                        <svg viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="100" cy="150" r="60" fill="#fff9e6" opacity="0.9"/>
                            <text x="100" y="160" font-size="32" font-weight="bold" text-anchor="middle" fill="#e74c3c">$</text>
                        </svg>
                    </div>
                    <div class="preview-amount-mobile">$100</div>
                    <div class="preview-text">GIFT CARD</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Gift Card Form -->
    <div class="gift-card-form-container">
        <form id="gift-card-form" class="gift-card-form">
            <!-- Design Selection -->
            <div class="form-section">
                <h3>Choose Design</h3>
                <div class="design-options">
                    <div class="design-option">
                        <input type="radio" id="design-red" name="design" value="red" checked>
                        <label for="design-red" class="design-label">
                            <div class="design-preview" style="background-color: #e74c3c;"></div>
                            <span>Red</span>
                        </label>
                    </div>
                    <div class="design-option">
                        <input type="radio" id="design-blue" name="design" value="blue">
                        <label for="design-blue" class="design-label">
                            <div class="design-preview" style="background-color: #3498db;"></div>
                            <span>Blue</span>
                        </label>
                    </div>
                    <div class="design-option">
                        <input type="radio" id="design-green" name="design" value="green">
                        <label for="design-green" class="design-label">
                            <div class="design-preview" style="background-color: #27ae60;"></div>
                            <span>Green</span>
                        </label>
                    </div>
                    <div class="design-option">
                        <input type="radio" id="design-purple" name="design" value="purple">
                        <label for="design-purple" class="design-label">
                            <div class="design-preview" style="background-color: #9b59b6;"></div>
                            <span>Purple</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Amount Selection -->
            <div class="form-section">
                <h3>Select Amount</h3>
                <div class="amount-options">
                    <input type="radio" id="amount-100" name="amount" value="100" checked>
                    <label for="amount-100" class="amount-label">$100</label>

                    <input type="radio" id="amount-200" name="amount" value="200">
                    <label for="amount-200" class="amount-label">$200</label>

                    <input type="radio" id="amount-500" name="amount" value="500">
                    <label for="amount-500" class="amount-label">$500</label>

                    <input type="radio" id="amount-1000" name="amount" value="1000">
                    <label for="amount-1000" class="amount-label">$1,000</label>
                </div>
            </div>

            <!-- Recipient Information -->
            <div class="form-section">
                <h3>Recipient Information</h3>
                <div class="form-group">
                    <label for="recipient-name">Recipient Name</label>
                    <input type="text" id="recipient-name" name="recipient-name" placeholder="Full name of recipient" required>
                </div>
                <div class="form-group">
                    <label for="recipient-email">Recipient Email</label>
                    <input type="email" id="recipient-email" name="recipient-email" placeholder="recipient@example.com" required>
                </div>
            </div>

            <!-- Sender Information -->
            <div class="form-section">
                <h3>Your Information</h3>
                <div class="form-group">
                    <label for="sender-name">Your Name</label>
                    <input type="text" id="sender-name" name="sender-name" placeholder="Your full name" required>
                </div>
                <div class="form-group">
                    <label for="sender-email">Your Email</label>
                    <input type="email" id="sender-email" name="sender-email" placeholder="your@example.com" required>
                </div>
            </div>

            <!-- Message -->
            <div class="form-section">
                <h3>Message (Optional)</h3>
                <div class="form-group">
                    <label for="gift-message">Personal Message</label>
                    <textarea id="gift-message" name="gift-message" placeholder="Add a personal message..." rows="4" maxlength="500"></textarea>
                    <p class="char-count"><span id="char-count">0</span>/500</p>
                </div>
            </div>

            <!-- Add to Cart Button -->
            <div class="form-actions">
                <button type="submit" class="add-to-cart-btn">Add to Cart</button>
                <button type="button" id="express-checkout-btn" class="express-checkout-btn">Express Checkout</button>
            </div>
            
            <!-- Flow Container for Express Checkout -->
            <div id="flow-container" style="display: none; margin-top: 20px;"></div>
        </form>

        <!-- Preview Section (desktop only) -->
        <div class="gift-card-preview-section desktop-preview">
            <h3>Preview</h3>
            <div id="gift-card-preview" class="gift-card-preview">
                <div class="preview-card" style="background-color: #e74c3c;">
                    <div class="preview-content">
                        <div class="preview-logo">
                            <svg viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="100" cy="150" r="60" fill="#fff9e6" opacity="0.9"/>
                                <text x="100" y="160" font-size="32" font-weight="bold" text-anchor="middle" fill="#e74c3c">$</text>
                            </svg>
                        </div>
                        <div class="preview-amount" id="preview-amount">$100</div>
                        <div class="preview-text">GIFT CARD</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Overlay (hidden by default) -->
    <div id="cart-overlay" class="cart-overlay hidden">
        <div class="cart-modal">
            <div class="cart-header">
                <h3>Shopping Cart</h3>
                <button id="close-cart-btn" class="close-btn">&times;</button>
            </div>
            <div id="cart-items" class="cart-items">
                <p class="empty-cart-message">Your cart is empty</p>
            </div>
            <div class="cart-footer">
                <button id="checkout-btn" class="checkout-btn">Proceed to Checkout</button>
            </div>
        </div>
    </div>

    <!-- Login Overlay (hidden by default) -->
    <div id="login-overlay" class="cart-overlay hidden">
        <div class="cart-modal">
            <div class="cart-header">
                <h3>Login</h3>
                <button id="close-login-btn" class="close-btn">&times;</button>
            </div>
            <div class="login-form-container">
                <form id="login-form">
                    <div class="login-form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" value="kenso" required>
                    </div>
                    <div class="login-form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" value="12345678" required>
                    </div>
                    <button type="submit" id="login-submit-btn" class="checkout-btn">Login</button>
                </form>
            </div>
        </div>
    </div>

</div>

<style>
    .gift-card-form-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 40px;
        max-width: 1200px;
        margin: 40px auto;
        padding: 0 20px;
    }

    .gift-card-form {
        display: flex;
        flex-direction: column;
        gap: 30px;
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .form-section h3 {
        margin: 0 0 15px 0;
        font-size: 16px;
        font-weight: 600;
        color: #333;
    }

    .design-options {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;
    }

    .design-option {
        position: relative;
    }

    .design-option input {
        display: none;
    }

    .design-label {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        padding: 10px;
        border: 2px solid transparent;
        border-radius: 8px;
        transition: all 0.2s ease;
    }

    .design-preview {
        width: 60px;
        height: 60px;
        border-radius: 6px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .design-option input:checked + .design-label {
        border-color: #333;
        background-color: #f5f5f5;
    }

    .design-label span {
        font-size: 12px;
        color: #666;
    }

    .amount-options {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;
    }

    .amount-options input {
        display: none;
    }

    .amount-label {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 15px;
        border: 2px solid #ddd;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        font-size: 16px;
        color: #333;
        transition: all 0.2s ease;
    }

    .amount-options input:checked + .amount-label {
        border-color: #333;
        background-color: #333;
        color: white;
    }

    .form-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .form-group label {
        font-size: 14px;
        font-weight: 500;
        color: #333;
    }

    .form-group input,
    .form-group textarea {
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 14px;
        font-family: inherit;
    }

    .form-group input:focus,
    .form-group textarea:focus {
        outline: none;
        border-color: #333;
        box-shadow: 0 0 0 3px rgba(51, 51, 51, 0.1);
    }

    .char-count {
        font-size: 12px;
        color: #999;
        margin: 5px 0 0 0;
    }

    .form-actions {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 15px;
    }

    .add-to-cart-btn {
        flex: 1;
        padding: 14px;
        background-color: #333;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.2s ease;
    }

    .add-to-cart-btn:hover {
        background-color: #555;
    }

    .gift-express-layout {
        max-width: 1400px;
        width: 100%;
        margin: 20px auto;
        padding: 0 20px;
        grid-column: 1 / -1; /* Span all grid columns */
    }

    .order-summary-wrapper {
        background: #eef3ff;
        border: 1px solid #d7e2ff;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 6px 18px rgba(24, 106, 254, 0.12);
        display: flex;
        flex-direction: row;
        gap: 32px;
        flex-wrap: wrap;
    }

    .order-summary-wrapper-header {
        width: 100%;
        margin-bottom: 10px;
    }

    .gift-express-left {
        flex: 1;
        min-width: 320px;
    }

    .gift-express-right {
        flex: 1;
        min-width: 320px;
    }

    .gift-flow-container {
        background: white;
        border-radius: 12px;
        padding: 24px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        min-height: 400px;
    }

    .gift-order-summary {
        background: white;
        border-radius: 12px;
        padding: 24px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .gift-order-summary.collapsed {
        padding: 16px 24px;
        cursor: pointer;
    }

    .gift-card-meta {
        margin-top: 8px;
        font-size: 0.85rem;
        color: #5a6473;
        line-height: 1.5;
    }

    .gift-card-meta strong {
        color: #2b2f36;
        font-weight: 600;
    }

    .gift-card-preview-section {
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        height: fit-content;
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .gift-card-preview-section h3 {
        margin: 0;
        font-size: 16px;
        font-weight: 600;
        color: #333;
    }

    .gift-card-preview {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .preview-card {
        width: 280px;
        height: 180px;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
    }

    .preview-content {
        text-align: center;
        color: white;
        z-index: 2;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
    }

    .preview-logo {
        width: 80px;
        height: 80px;
    }

    .preview-amount {
        font-size: 32px;
        font-weight: bold;
    }

    .preview-text {
        font-size: 12px;
        letter-spacing: 2px;
        opacity: 0.9;
    }

    /* Mobile preview shown on top */
    .mobile-preview {
        display: none;
    }

    .desktop-preview {
        display: block;
    }

    .preview-amount-mobile {
        font-size: 32px;
        font-weight: bold;
    }

    @media (max-width: 768px) {
        .gift-card-form-container {
            grid-template-columns: 1fr;
            gap: 20px;
            margin: 20px auto;
        }

        .order-summary-wrapper {
            flex-direction: column;
            gap: 20px;
        }

        .gift-express-right {
            order: 1;
        }

        .gift-express-left {
            order: 2;
        }

        .design-options,
        .amount-options {
            grid-template-columns: repeat(2, 1fr);
        }

        /* Hide desktop preview, show mobile preview */
        .desktop-preview {
            display: none;
        }

        .mobile-preview {
            display: block;
            background: white;
            padding: 20px;
            margin: 20px auto;
            max-width: 400px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .mobile-preview h3 {
            margin: 0 0 15px 0;
            font-size: 16px;
            font-weight: 600;
            color: #333;
            text-align: center;
        }

        .gift-card-preview-section {
            height: auto;
        }
    }
</style>

<script src="https://checkout-web-components.checkout.com/index.js"></script>
<script src="currency-utils.js"></script>
<script src="gift-cards-app.js"></script>
</body>
</html>
